{
  "$schema": "../src/sink.schema.json",
  "description": "Bootstrap with GitHub commit SHA pinning for maximum immutability",
  "version": "1.0.0",
  
  "bootstrap": {
    "security": {
      "require_pinning": true,
      "require_https": true
    },
    
    "remote_configs": [
      {
        "name": "Critical Production Config (Commit SHA)",
        "url": "https://raw.githubusercontent.com/myorg/configs/a1b2c3d4e5f67890abcdef1234567890abcdef12/prod.json",
        "pin": {
          "type": "commit",
          "value": "a1b2c3d4e5f67890abcdef1234567890abcdef12",
          "repository": "myorg/configs",
          "require_immutable": true
        },
        "verification": {
          "auto_fetch_checksum": true
        }
      }
    ],
    
    "ssh": {
      "targets": ["deploy@critical.example.com"],
      "timeout": "10m",
      "retry": 3
    }
  },
  
  "platforms": [
    {
      "os": "linux",
      "match": "linux*",
      "name": "Linux",
      "distributions": [
        {
          "ids": ["ubuntu", "debian"],
          "name": "Ubuntu/Debian",
          "install_steps": [
            {
              "name": "Verify bootstrap",
              "command": "echo 'Bootstrapped from commit SHA'"
            }
          ]
        }
      ]
    }
  ]
}
